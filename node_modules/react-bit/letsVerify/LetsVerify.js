import './LetsVerify.css'
import React, { useEffect, useState } from 'react'
import { Card } from '../../hocs/index'
import { appConst } from '../../constants/texts'
import KycNextButton from '../kycNextButton/KycNextButton'
import { useDispatch } from 'react-redux'
import { sendId } from '../../redux/actions/Actions'
import {v4 as uuidv4} from 'uuid';

const LetsVerify = (props) => {
  const {
    handleClick = () => { }
  } = { ...props };
  const dispatch = useDispatch();
  const [checked, setChecked] = useState(false);
  let uid = `user-id-${uuidv4()}` ;
  const _handleClick = ()=> {
    dispatch(sendId(uid)); 
    handleClick(1);
  }  
  
  return (
    <Card
      bodyCls='verify-card'
    >
      <div className="verify-body">
        {/* header */}
        <div className="verify-header">
          <h2 className="verify-title">
            {appConst.lets_get_verified}
          </h2>
          <p>
            {appConst.verify_desc_1}
          </p>
          <p>
            {appConst.verify_desc_2}
          </p>
        </div>
        {/* terms and condition */}
        <div className="confirm-consent-body">
          {/* checkbox */}
          <input type="checkbox" name="consent" className="consent"
            value={checked}
            onChange={() => {
              setChecked(prev => !prev)
            }}
          />
          {/* terms */}
          <span>
            <p>
              {appConst.i_confirm_1}
              <a href="https://sumsub.com/privacy-notice-service/" rel="noopener" target="_blank">
                {appConst.i_confirm_2}
              </a>
              {appConst.i_confirm_3}
              <a href="" rel="noopener" target="_blank">
                {appConst.i_confirm_4}
              </a>.
            </p>
          </span>
        </div>
        {/* button */}
        <div className={`verify-button-holder ${checked ? '' : 'displayNone'}`}>
          <KycNextButton handleClick={() =>_handleClick()} />
        </div>
      </div>
    </Card>
  )
}

export default LetsVerify